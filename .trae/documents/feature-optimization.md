# 基金看板功能优化分析

## 当前功能清单

### ✅ 已实现功能
| 功能模块 | 具体功能 |
|---------|---------|
| 基金管理 | 添加/编辑/删除基金 |
| 数据展示 | 统计卡片、走势图、持仓占比饼图 |
| 搜索筛选 | 关键词搜索、盈亏筛选 |
| 数据管理 | JSON导入/导出 |
| 用户体验 | 深色模式、自动刷新、快捷键 |
| 图表分析 | 单基金走势、最大回撤显示 |

---

## 可优化功能分析

### 🔴 高优先级（核心体验提升）

#### 1. 交易记录管理
**问题**：当前只能记录持仓，无法追踪交易历史

**方案**：
- 新增 `Transaction` 实体（类型：买入/卖出/分红）
- 添加交易记录页面
- 根据交易记录自动计算持仓成本和份额
- 支持交易记录导入导出

**价值**：完整记录投资历程，便于复盘分析

#### 2. 基金分组/标签
**问题**：基金多时管理混乱，无法分类查看

**方案**：
- Fund 实体添加 `tags` 字段
- 支持自定义标签（如：定投、抄底、核心持仓）
- 筛选器支持按标签筛选
- 统计卡片按分组显示

**价值**：清晰管理不同策略的基金

#### 3. 数据分页
**问题**：基金数量多时性能下降

**方案**：
- 添加 Pagination 组件
- 支持切换每页数量（10/20/50）
- 后端支持分页查询

**价值**：提升大数据量下的性能

---

### 🟡 中优先级（体验优化）

#### 4. 操作撤销
**问题**：误删除后无法恢复

**方案**：
- 删除后显示撤销提示（5秒内可撤销）
- 使用软删除而非硬删除

**价值**：防止误操作

#### 5. 批量操作
**问题**：需要逐个编辑/删除基金

**方案**：
- 表格支持多选
- 添加批量删除、批量修改标签功能

**价值**：提升操作效率

#### 6. 收益预警
**问题**：无法及时知道止盈止损点

**方案**：
- Fund 实体添加 `stopProfit`、`stopLoss` 字段
- 刷新数据时检查预警条件
- 触发时显示通知

**价值**：及时止盈止损

---

### 🟢 低优先级（锦上添花）

#### 7. 基金对比
**方案**：选择多只基金，对比收益走势

#### 8. 定投计划
**方案**：设置定投日期和金额，到期提醒

#### 9. PWA 支持
**方案**：添加 Service Worker，支持离线使用

#### 10. Docker 部署
**方案**：添加 Dockerfile 和 docker-compose.yml

---

## 推荐实施顺序

### 第一阶段（核心功能）
1. **基金分组/标签** - 提升管理效率
2. **数据分页** - 提升性能

### 第二阶段（体验优化）
3. **操作撤销** - 防止误操作
4. **批量操作** - 提升效率

### 第三阶段（高级功能）
5. **交易记录管理** - 完整投资记录
6. **收益预警** - 智能提醒

---

## 实施计划

### Step 1: 基金分组/标签
- 后端：Fund 实体添加 tags 字段
- 前端：添加标签管理组件
- 筛选：支持按标签筛选

### Step 2: 数据分页
- 前端：创建 Pagination 组件
- 后端：API 支持分页参数
- 设置：保存用户分页偏好

### Step 3: 操作撤销
- 前端：删除后显示撤销提示
- 后端：软删除机制

### Step 4: 批量操作
- 前端：表格多选功能
- 后端：批量操作 API

---

## 预期效果

- 管理效率提升 50%（分组+批量操作）
- 大数据量性能提升 80%（分页）
- 误操作风险降低 90%（撤销）
- 投资记录完整性 100%（交易记录）
