# 基金看板工具实现计划

## 技术架构

### 后端 (Node.js + Express + MySQL)
- **技术栈**: Express + TypeScript + TypeORM + MySQL
- **功能模块**:
  1. 基金数据 API（增删改查）
  2. 基金估值/涨跌幅数据获取（从天天基金API获取）
  3. 自动计算并更新收益
  4. 定时任务（每天收盘后自动更新）

### 前端 (React + TypeScript + Vite)
- **技术栈**: React + TypeScript + Vite + Tailwind CSS
- **页面功能**:
  1. 基金列表展示（名称、代码、持仓成本、最新净值、涨跌幅、收益）
  2. 添加/编辑/删除基金
  3. 手动刷新数据按钮
  4. 收益统计汇总

## 数据库设计

### funds 表 - 基金持仓
| 字段 | 类型 | 说明 |
|------|------|------|
| id | int | 主键 |
| fund_code | varchar | 基金代码 |
| fund_name | varchar | 基金名称 |
| cost | decimal | 持仓成本/买入价格 |
| shares | decimal | 持有份额 |
| created_at | datetime | 创建时间 |
| updated_at | datetime | 更新时间 |

### daily_data 表 - 每日数据
| 字段 | 类型 | 说明 |
|------|------|------|
| id | int | 主键 |
| fund_code | varchar | 基金代码 |
| nav | decimal | 单位净值 |
| daily_change | decimal | 日涨跌幅(%) |
| date | date | 日期 |

## API 设计

1. `GET /api/funds` - 获取所有持仓基金
2. `POST /api/funds` - 添加基金
3. `PUT /api/funds/:id` - 编辑基金
4. `DELETE /api/funds/:id` - 删除基金
5. `GET /api/funds/:code/quote` - 获取基金实时估值
6. `POST /api/funds/refresh` - 手动刷新所有基金数据
7. `GET /api/stats` - 获取收益统计

## 实现步骤

### 阶段1: 项目初始化
1. 创建项目目录结构
2. 初始化 Node.js 后端（Express + TypeORM）
3. 初始化 React 前端（Vite + TypeScript）
4. 配置 MySQL 连接

### 阶段2: 后端实现
1. 创建数据库表结构
2. 实现基金 CRUD API
3. 集成天天基金API获取数据
4. 实现收益计算逻辑
5. 添加定时任务

### 阶段3: 前端实现
1. 创建基金列表页面
2. 实现添加/编辑基金弹窗
3. 实现数据展示和刷新功能
4. 添加收益统计卡片

### 阶段4: 测试和优化
1. 本地运行测试
2. 验证数据获取和收益计算